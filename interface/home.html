<!DOCTYPE html>
<html lang="en">

<head>
  <title>GameXP - Art Street</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/eel.js"></script>

  <style>
    /* Set height of the grid so .sidenav can be 100% (adjust if needed) */
    .row.content {
      height: 1500px
    }

    /* Set gray background color and 100% height */
    .sidenav {
      background-color: #f1f1f1;
      height: 100%;
    }

    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }

    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }

      .row.content {
        height: auto;
      }
    }
  </style>
</head>

<body>

  <div class="container-fluid">
    <div class="row content">
      <div class="col-sm-3 sidenav">
        <h4>Art Street </h4>
        <ul class="nav nav-pills nav-stacked">
          <li class="active"><a href="home.html">Home</a></li>
          <li><a href="grupo.html">Grupo Artístico</a></li>
          <!-- <li><a href="#section3">Family</a></li>
        <li><a href="#section3">Photos</a></li> -->
        </ul><br>
      </div>

      <div class="col-sm-9">
        <h4><small>Consultas comuns</small></h4>
        <hr>
        <div>
          <h2>Consultar Grupo Artístico por Nome de Artista</h2>
          <form onsubmit="get_grupoArtist()">
            <div class="form-group">
              <label for="nome"></label>
              <input id="nome-busca" required type="nome" class="forms form-control" id="nome_cadastro"
                placeholder="nome do artista" name="nome">
              <button type="submit">listar</button>
              <table id="table_1">
              </table>
            </div>
          </form>
        </div>





      </div>
    </div>
  </div>

  <footer class="container-fluid">
    <p>Projeto 3 - GameXP. Realizado por Pedro Natali, Matheus Arataque, Samira Mendes e Nelson Neto</p>
  </footer>

</body>
<script>
  
  async function get_grupoArtist() {
    // query a ser realizada
    // SELECT
    // CPF, NOME, GRUPO_ARTISTICO
    // FROM
    // ARTISTA
    // WHERE
    //   (upper(artista.nome) = 'MATHEUS');
    const nome = document.getElementById('nome-busca').value;
    const table = document.getElementById('table_1');
    const columns = ["CPF", "NOME", "GRUPO_ARTISTICO"];
    const tabela = "ARTISTA";
    const condicao = "UPPER(ARTISTA.NOME) = '" + nome +"'";
    let results = await eel.simplesSelect(columns, tabela, condicao)();
    alert(results)

    if (results == 1) {
      alert("Erro ao busca o registro, tente novamente");
    }

    // const header = table.createTHead();
    // const row = header.insertRow(0);
    // for (let i = 0; i < columns.length; i++){
    //   let cell0 = row.insertCell(i);
    //   cell0.innerHTML = "<b>" + columns[i] + "<b>";
    // }

    // let array2 = [];
    // if (results.length > 0) {
    //   for (let i = 0; i < results.length; i++){
    //     let newRow = table.insertRow(results[0].length)
    //     array2 = results[i];
    //     for (let j = 0; j < results[0].length; j++){
    //       let cell = newRow.insertCell(j);
    //       cell.innerHTML = array2[j];
    //     }
    //   }
    // }

  }
</script>

</html>
